import{d as E,r as n,u as P,y as A,o as R,p as d,q as I,c as m,a as l,b as t,t as N,h as y,F as q,e as V,i as _,j as x}from"./index-CKjozqaQ.js";import{_ as B}from"./back3-q87-H97k.js";import{_ as M}from"./loading-DSJ59oo9.js";import{A as O}from"./AcgCard-BM0gqaW9.js";import{u as S}from"./useLazyLoad-CfEeBfCV.js";import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./play4-3PhygbDH.js";const F={class:"more-list-wrapper"},z={class:"top-bar"},j={class:"title-wrapper"},J={class:"title"},Q={class:"scroll-content"},U={class:"card-list"},$={key:0,class:"loading-tip"},G={key:1,class:"no-more-text"},H=E({__name:"AcgMoreListPage",setup(K){const r=n({漫画:{推荐:[],国漫:[],日漫:[],韩漫:[],同人:[],欧美:[],萝莉:[],NTR:[]},小说:{},有声:{}}),g=P(),i=A(),c=n("列表"),p=n("漫画"),f=n("推荐"),v=n([]);if(i.query.items)try{const a=decodeURIComponent(i.query.items);v.value=JSON.parse(a)}catch(a){console.warn("解析 items 失败：",a)}R(async()=>{c.value=i.query.title||"列表",p.value=i.query.activeTab||"漫画",f.value=i.query.activeSubCategory||"推荐";const[a,o,s,u]=await Promise.all([d(()=>import("./guoman-D-YX7sMZ.js").then(e=>e._),[],import.meta.url).then(e=>e.default),d(()=>import("./riman-BRQhS45S.js").then(e=>e._),[],import.meta.url).then(e=>e.default),d(()=>import("./hanman-BRQhS45S.js").then(e=>e._),[],import.meta.url).then(e=>e.default),d(()=>import("./comicrecommendlist-DE2jrQYw.js").then(e=>e._),[],import.meta.url).then(e=>e.default)]);r.value.漫画.国漫=a,r.value.漫画.日漫=o,r.value.漫画.韩漫=s,r.value.漫画.推荐=u});const b=I(()=>v.value.length?v.value:((r.value[p.value]||{})[f.value]||[]).find(u=>u.moduleTitle===c.value)?.items||[]),{visibleList:h,isLoading:k,noMore:C,sentinel:D}=S(b,{batchSize:12});function L(){g.back()}function T(a){const s=p.value==="小说"?"NovelDetail":"ComicDetail";g.push({name:s,params:{id:a.id,source:c.value}})}return(a,o)=>(l(),m("div",F,[t("div",z,[t("img",{src:B,class:"back-icon",onClick:L}),t("div",j,[t("span",J,N(c.value),1)])]),t("div",Q,[t("div",U,[(l(!0),m(q,null,V(_(h),s=>(l(),x(O,{key:s.id,data:s,onClick:u=>T(s)},null,8,["data","onClick"]))),128))]),_(k)?(l(),m("div",$,o[0]||(o[0]=[t("img",{src:M,alt:"加载中...",class:"custom-spinner"},null,-1),t("div",{class:"loading-text"},"客官别走，妾身马上就好~",-1)]))):y("",!0),_(C)&&_(h).length>0?(l(),m("div",G," 客官，妾身被你弄高潮了，扛不住了 ~ ")):y("",!0),t("div",{ref_key:"sentinel",ref:D,class:"load-more-trigger"},null,512)]),o[1]||(o[1]=t("div",{class:"bottom-space"},null,-1))]))}}),oe=w(H,[["__scopeId","data-v-e3dfd375"]]);export{oe as default};
