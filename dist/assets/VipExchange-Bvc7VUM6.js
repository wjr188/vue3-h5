import{d as k,u as I,J as w,q as P,r as B,c,a as i,b as s,m as d,a6 as C,t as n,F as _,e as u,l as b,x as y,M as p}from"./index-CKjozqaQ.js";/* empty css              */import{B as E}from"./index-BvDqeyKw.js";import{s as S}from"./function-call-Cn_FLeOo.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";const D={class:"vip-exchange"},N={class:"header"},$={class:"points-header"},F={class:"points-value"},L={class:"exchange-list"},R={class:"neon-name"},T={class:"neon-price"},U={class:"record-section"},q={class:"record-list"},J={class:"record-name"},M={class:"record-time"},j={class:"record-status"},A=k({__name:"VipExchange",setup(G){const v=I(),h=()=>v.back(),a=w();a.initUser();const f=P(()=>a.points),g=[{name:"1天VIP",icon:"diamond-o",cost:100},{name:"7天VIP",icon:"diamond",cost:500},{name:"30天VIP",icon:"gem-o",cost:1e3},{name:"1年VIP",icon:"award-o",cost:9999},{name:"1000金币",icon:"gold-coin-o",cost:1500},{name:"5000金币",icon:"balance-o",cost:4999}],l=B([{name:"7天VIP",time:"2024-06-01 12:00",status:"已兑换"},{name:"1000金币",time:"2024-05-28 16:30",status:"已兑换"},{name:"1天VIP",time:"2024-05-20 09:45",status:"已兑换"}]),x=async e=>{if(a.points<e.cost){p("积分不足");return}try{await S({title:"兑换确认",message:`确定要消耗${e.cost}积分兑换「${e.name}」吗？`}),a.consumePoints(e.cost),l.value.unshift({name:e.name,time:new Date().toLocaleString(),status:"已兑换"}),p("兑换成功！")}catch{console.log("用户取消兑换")}};return(e,o)=>{const m=C,V=E;return i(),c("div",D,[s("div",N,[d(m,{name:"arrow-left",size:"20",onClick:h}),o[0]||(o[0]=s("div",{class:"title"},"会员兑换",-1))]),s("div",$,[o[1]||(o[1]=s("div",{class:"points-title"},"当前积分",-1)),s("div",F,n(f.value),1)]),s("div",L,[(i(),c(_,null,u(g,(t,r)=>s("div",{class:"neon-card",key:r},[d(m,{name:t.icon,size:"28",color:"#0ff"},null,8,["name"]),s("div",R,n(t.name),1),s("div",T,"花费"+n(t.cost)+"积分",1),d(V,{size:"small",round:"",class:"exchange-btn",onClick:H=>x(t)},{default:b(()=>o[2]||(o[2]=[y(" 立即兑换 ")])),_:2,__:[2]},1032,["onClick"])])),64))]),s("div",U,[o[3]||(o[3]=s("div",{class:"record-title"},"兑换记录",-1)),s("div",q,[(i(!0),c(_,null,u(l.value,(t,r)=>(i(),c("div",{class:"record-item",key:r},[s("div",J,n(t.name),1),s("div",M,n(t.time),1),s("div",j,n(t.status),1)]))),128))])])])}}}),Y=z(A,[["__scopeId","data-v-42f59e2f"]]);export{Y as default};
